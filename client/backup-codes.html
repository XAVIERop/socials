<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Backup Codes | Social Studio</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="ssl.jpeg">
  <link rel="icon" type="image/png" sizes="16x16" href="ssl.jpeg">
  <link rel="shortcut icon" href="ssl.jpeg">
  <link rel="apple-touch-icon" href="ssl.jpeg">
  
  <!-- Stylesheets -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link href="mobile-optimization.css" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: "#2563eb",
            secondary: "#f97316",
            dark: "#1e293b",
            light: "#f8fafc",
          }
        },
      },
    };
  </script>
</head>
<body class="bg-gray-50 min-h-screen">
  <!-- Navigation Bar -->
  <nav id="navbar" class="fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm z-50 transition-all duration-300 border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center py-4">
        <!-- Logo -->
        <div class="flex items-center">
          <img src="ssl.jpeg" alt="Social Studio" class="h-10 w-auto">
          <span class="ml-3 text-xl font-bold text-gray-900">Backup Codes</span>
        </div>
        
        <!-- Navigation -->
        <div class="hidden md:flex items-center space-x-8">
          <a href="index.html" class="text-gray-700 hover:text-primary font-medium">Home</a>
          <a href="dashboard.html" class="text-gray-700 hover:text-primary font-medium">Dashboard</a>
          <a href="2fa-setup.html" class="text-gray-700 hover:text-primary font-medium">2FA Setup</a>
          <a href="security-settings.html" class="text-gray-700 hover:text-primary font-medium">Security</a>
        </div>
        
        <!-- User Menu -->
        <div class="flex items-center space-x-4">
          <div class="relative">
            <button id="userMenuButton" class="flex items-center space-x-2 bg-white border border-gray-300 rounded-lg px-4 py-2 hover:border-primary transition-colors">
              <img id="userAvatar" src="https://ui-avatars.com/api/?name=User&background=667eea&color=fff" alt="User" class="w-6 h-6 rounded-full">
              <span id="userName" class="text-gray-700 font-medium">User</span>
              <i class="fas fa-chevron-down text-gray-500"></i>
            </button>
            
            <!-- Dropdown Menu -->
            <div id="userDropdown" class="absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg opacity-0 invisible transition-all duration-200">
              <a href="dashboard.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-t-lg">
                <i class="fas fa-tachometer-alt mr-2"></i>Dashboard
              </a>
              <a href="security-settings.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-50">
                <i class="fas fa-shield-alt mr-2"></i>Security
              </a>
              <hr class="my-1">
              <button onclick="logout()" class="w-full text-left px-4 py-2 text-red-600 hover:bg-gray-50 rounded-b-lg">
                <i class="fas fa-sign-out-alt mr-2"></i>Logout
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="pt-20">
    <!-- Header Section -->
    <section class="bg-gradient-to-r from-purple-600 to-indigo-700 text-white py-16">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-4">
          🔑 Backup Codes
        </h1>
        <p class="text-xl text-purple-100 max-w-2xl mx-auto">
          Generate and manage backup codes for your two-factor authentication. Keep these codes safe for account recovery.
        </p>
      </div>
    </section>

    <!-- Backup Codes Management -->
    <section class="py-12">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Current Backup Codes -->
        <div class="bg-white rounded-2xl shadow-lg border border-gray-100 p-8 mb-8" data-aos="fade-in-up">
          <div class="text-center mb-8">
            <div class="w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-key text-purple-600 text-3xl"></i>
            </div>
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Your Backup Codes</h2>
            <p class="text-gray-600">These codes can be used to access your account if you lose your authenticator device</p>
          </div>
          
          <div class="max-w-2xl mx-auto">
            <!-- Codes Display -->
            <div id="backupCodesDisplay" class="bg-gray-50 rounded-lg p-6 mb-6">
              <div class="text-center">
                <i class="fas fa-exclamation-triangle text-yellow-500 text-4xl mb-4"></i>
                <h3 class="text-lg font-semibold text-gray-900 mb-2">No Backup Codes Generated</h3>
                <p class="text-gray-600 mb-4">You haven't generated any backup codes yet. Generate them below to ensure account recovery.</p>
              </div>
            </div>
            
            <!-- Generate New Codes -->
            <div class="text-center">
              <button id="generateCodesBtn" class="bg-purple-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors">
                <i class="fas fa-plus mr-2"></i>Generate New Backup Codes
              </button>
              <p class="text-sm text-gray-500 mt-2">This will invalidate any existing backup codes</p>
            </div>
          </div>
        </div>

        <!-- How to Use Backup Codes -->
        <div class="bg-white rounded-2xl shadow-lg border border-gray-100 p-8 mb-8" data-aos="fade-in-up" data-aos-delay="100">
          <div class="text-center mb-8">
            <div class="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-question-circle text-blue-600 text-3xl"></i>
            </div>
            <h2 class="text-2xl font-bold text-gray-900 mb-2">How to Use Backup Codes</h2>
            <p class="text-gray-600">Step-by-step guide on using backup codes for account recovery</p>
          </div>
          
          <div class="max-w-3xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
              <!-- When to Use -->
              <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-4">When to Use Backup Codes</h3>
                <div class="space-y-3">
                  <div class="flex items-start space-x-3">
                    <div class="w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                      <span class="text-xs font-bold">1</span>
                    </div>
                    <p class="text-sm text-gray-600">You lost your authenticator device</p>
                  </div>
                  <div class="flex items-start space-x-3">
                    <div class="w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                      <span class="text-xs font-bold">2</span>
                    </div>
                    <p class="text-sm text-gray-600">Your authenticator app was deleted</p>
                  </div>
                  <div class="flex items-start space-x-3">
                    <div class="w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                      <span class="text-xs font-bold">3</span>
                    </div>
                    <p class="text-sm text-gray-600">You're traveling without your device</p>
                  </div>
                  <div class="flex items-start space-x-3">
                    <div class="w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                      <span class="text-xs font-bold">4</span>
                    </div>
                    <p class="text-sm text-gray-600">Emergency account access needed</p>
                  </div>
                </div>
              </div>
              
              <!-- How to Use -->
              <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-4">How to Use Them</h3>
                <div class="space-y-3">
                  <div class="flex items-start space-x-3">
                    <div class="w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                      <span class="text-xs font-bold">1</span>
                    </div>
                    <p class="text-sm text-gray-600">Go to the login page</p>
                  </div>
                  <div class="flex items-start space-x-3">
                    <div class="w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                      <span class="text-xs font-bold">2</span>
                    </div>
                    <p class="text-sm text-gray-600">Enter your email and password</p>
                  </div>
                  <div class="flex items-start space-x-3">
                    <div class="w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                      <span class="text-xs font-bold">3</span>
                    </div>
                    <p class="text-sm text-gray-600">When prompted for 2FA, click "Use Backup Code"</p>
                  </div>
                  <div class="flex items-start space-x-3">
                    <div class="w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
                      <span class="text-xs font-bold">4</span>
                    </div>
                    <p class="text-sm text-gray-600">Enter one of your backup codes</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Security Best Practices -->
        <div class="bg-white rounded-2xl shadow-lg border border-gray-100 p-8 mb-8" data-aos="fade-in-up" data-aos-delay="200">
          <div class="text-center mb-8">
            <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-shield-alt text-green-600 text-3xl"></i>
            </div>
            <h2 class="text-2xl font-bold text-gray-900 mb-2">Security Best Practices</h2>
            <p class="text-gray-600">Keep your backup codes secure and accessible</p>
          </div>
          
          <div class="max-w-3xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
              <!-- Do's -->
              <div>
                <h3 class="text-lg font-semibold text-green-900 mb-4 flex items-center">
                  <i class="fas fa-check-circle mr-2"></i>Do's
                </h3>
                <div class="space-y-3">
                  <div class="flex items-start space-x-3">
                    <i class="fas fa-check text-green-600 mt-1"></i>
                    <p class="text-sm text-gray-700">Store codes in a secure password manager</p>
                  </div>
                  <div class="flex items-start space-x-3">
                    <i class="fas fa-check text-green-600 mt-1"></i>
                    <p class="text-sm text-gray-700">Keep a printed copy in a safe location</p>
                  </div>
                  <div class="flex items-start space-x-3">
                    <i class="fas fa-check text-green-600 mt-1"></i>
                    <p class="text-sm text-gray-700">Share codes only with trusted family members</p>
                  </div>
                  <div class="flex items-start space-x-3">
                    <i class="fas fa-check text-green-600 mt-1"></i>
                    <p class="text-sm text-gray-700">Use codes only when absolutely necessary</p>
                  </div>
                </div>
              </div>
              
              <!-- Don'ts -->
              <div>
                <h3 class="text-lg font-semibold text-red-900 mb-4 flex items-center">
                  <i class="fas fa-times-circle mr-2"></i>Don'ts
                </h3>
                <div class="space-y-3">
                  <div class="flex items-start space-x-3">
                    <i class="fas fa-times text-red-600 mt-1"></i>
                    <p class="text-sm text-gray-700">Don't store codes in plain text files</p>
                  </div>
                  <div class="flex items-start space-x-3">
                    <i class="fas fa-times text-red-600 mt-1"></i>
                    <p class="text-sm text-gray-700">Don't share codes on social media</p>
                  </div>
                  <div class="flex items-start space-x-3">
                    <i class="fas fa-times text-red-600 mt-1"></i>
                    <p class="text-sm text-gray-700">Don't email codes to yourself</p>
                  </div>
                  <div class="flex items-start space-x-3">
                    <i class="fas fa-times text-red-600 mt-1"></i>
                    <p class="text-sm text-gray-700">Don't use codes for regular login</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Code Generation Warning -->
        <div class="bg-yellow-50 rounded-2xl border border-yellow-200 p-8" data-aos="fade-in-up" data-aos-delay="300">
          <div class="text-center mb-6">
            <div class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-exclamation-triangle text-yellow-600 text-2xl"></i>
            </div>
            <h3 class="text-xl font-bold text-yellow-900 mb-2">Important Warning</h3>
          </div>
          
          <div class="max-w-2xl mx-auto text-center">
            <div class="space-y-4">
              <p class="text-yellow-800">
                <strong>⚠️ Warning:</strong> Generating new backup codes will immediately invalidate all existing backup codes.
              </p>
              <p class="text-sm text-yellow-700">
                This means you won't be able to use any previously generated codes to access your account. 
                Only generate new codes if you've lost your old ones or suspect they've been compromised.
              </p>
              <div class="bg-white rounded-lg p-4 border border-yellow-300">
                <p class="text-sm text-yellow-800 font-medium">
                  <i class="fas fa-info-circle mr-2"></i>
                  After generating new codes, immediately save them in a secure location and test one to ensure it works.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <!-- Company Info -->
        <div class="col-span-1 md:col-span-2">
          <div class="flex items-center mb-4">
            <img src="ssl.jpeg" alt="Social Studio" class="h-10 w-auto mr-3">
            <span class="text-xl font-bold">Social Studio</span>
          </div>
          <p class="text-gray-300 mb-4">
            Your trusted partner in digital marketing and web development.
          </p>
        </div>
        
        <!-- Quick Links -->
        <div>
          <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
          <ul class="space-y-2">
            <li><a href="index.html" class="text-gray-300 hover:text-white transition-colors">Home</a></li>
            <li><a href="dashboard.html" class="text-gray-300 hover:text-white transition-colors">Dashboard</a></li>
            <li><a href="security-settings.html" class="text-gray-300 hover:text-white transition-colors">Security</a></li>
          </ul>
        </div>
        
        <!-- Contact Info -->
        <div>
          <h3 class="text-lg font-semibold mb-4">Contact Info</h3>
          <ul class="space-y-2 text-gray-300">
            <li><i class="fas fa-phone mr-2"></i>+91 93541 92151</li>
            <li><i class="fas fa-envelope mr-2"></i>pv.socialstudio@gmail.com</li>
          </ul>
        </div>
      </div>
      
      <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
        <p>&copy; 2024 Social Studio. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    // Initialize AOS
    AOS.init({
      duration: 300,
      easing: 'ease-out',
      once: true,
      offset: 50,
      delay: 0,
      disable: 'mobile'
    });

    // User menu toggle
    document.getElementById("userMenuButton").addEventListener("click", function () {
      const dropdown = document.getElementById("userDropdown");
      dropdown.classList.toggle("opacity-0");
      dropdown.classList.toggle("invisible");
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
      const dropdown = document.getElementById("userDropdown");
      const button = document.getElementById("userMenuButton");
      
      if (!button.contains(event.target) && !dropdown.contains(event.target)) {
        dropdown.classList.add("opacity-0", "invisible");
      }
    });

    // Load user data
    function loadUserData() {
      const userData = JSON.parse(localStorage.getItem('userData')) || {
        name: 'User',
        email: 'user@example.com'
      };
      
      document.getElementById('userName').textContent = userData.name;
    }

    // Generate backup codes
    document.getElementById('generateCodesBtn').addEventListener('click', function() {
      if (confirm('⚠️ WARNING: This will invalidate all existing backup codes!\n\nAre you sure you want to generate new backup codes?')) {
        // Show loading state
        this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Generating...';
        this.disabled = true;
        
        // Simulate generation delay
        setTimeout(() => {
          // Generate 10 random backup codes
          const backupCodes = [];
          for (let i = 0; i < 10; i++) {
            backupCodes.push(Math.random().toString(36).substring(2, 8).toUpperCase());
          }
          
          // Update the display
          const displayDiv = document.getElementById('backupCodesDisplay');
          displayDiv.innerHTML = `
            <div class="mb-4">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">Your Backup Codes</h3>
              <p class="text-sm text-gray-600 mb-4">Save these codes in a secure location. Each code can only be used once.</p>
            </div>
            <div class="grid grid-cols-2 gap-3 mb-6">
              ${backupCodes.map((code, index) => `
                <div class="bg-white p-3 rounded border text-center font-mono text-sm font-bold border-gray-300">
                  <span class="text-gray-900">${code}</span>
                  <div class="text-xs text-gray-500 mt-1">Code ${index + 1}</div>
                </div>
              `).join('')}
            </div>
            <div class="flex flex-col sm:flex-row gap-3 justify-center">
              <button id="downloadCodesBtn" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition-colors">
                <i class="fas fa-download mr-2"></i>Download as Text
              </button>
              <button id="printCodesBtn" class="bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 transition-colors">
                <i class="fas fa-print mr-2"></i>Print Codes
              </button>
            </div>
          `;
          
          // Add event listeners to new buttons
          document.getElementById('downloadCodesBtn').addEventListener('click', () => downloadCodes(backupCodes));
          document.getElementById('printCodesBtn').addEventListener('click', () => printCodes(backupCodes));
          
          // Update button state
          this.innerHTML = '<i class="fas fa-check mr-2"></i>Codes Generated';
          this.classList.remove('bg-purple-600', 'hover:bg-purple-700');
          this.classList.add('bg-green-600', 'hover:bg-green-700');
          
          // Show success message
          showNotification('Backup codes generated successfully!', 'success');
          
        }, 2000);
      }
    });

    // Download codes function
    function downloadCodes(codes) {
      const content = `Social Studio - Backup Codes\n\nGenerated on: ${new Date().toLocaleDateString()}\n\n${codes.map((code, index) => `Code ${index + 1}: ${code}`).join('\n')}\n\n⚠️ IMPORTANT: Keep these codes secure and don't share them with anyone.`;
      
      const blob = new Blob([content], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'backup-codes.txt';
      a.click();
      URL.revokeObjectURL(url);
      
      showNotification('Backup codes downloaded successfully!', 'success');
    }

    // Print codes function
    function printCodes(codes) {
      const printWindow = window.open('', '_blank');
      printWindow.document.write(`
        <html>
          <head>
            <title>Backup Codes - Social Studio</title>
            <style>
              body { font-family: Arial, sans-serif; padding: 20px; }
              .header { text-align: center; margin-bottom: 30px; }
              .codes { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0; }
              .code { border: 2px solid #333; padding: 15px; text-align: center; font-family: monospace; font-size: 18px; font-weight: bold; }
              .warning { background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; margin: 20px 0; border-radius: 5px; }
              @media print { .no-print { display: none; } }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>🔑 Social Studio - Backup Codes</h1>
              <p>Generated on: ${new Date().toLocaleDateString()}</p>
            </div>
            
            <div class="warning">
              <strong>⚠️ IMPORTANT:</strong> Keep these codes secure and don't share them with anyone.
              Each code can only be used once for account recovery.
            </div>
            
            <div class="codes">
              ${codes.map((code, index) => `
                <div class="code">
                  ${code}<br>
                  <small>Code ${index + 1}</small>
                </div>
              `).join('')}
            </div>
            
            <div class="warning">
              <strong>Storage Tips:</strong><br>
              • Store in a secure password manager<br>
              • Keep a printed copy in a safe location<br>
              • Don't store digitally in plain text<br>
              • Share only with trusted family members
            </div>
            
            <div class="no-print" style="text-align: center; margin-top: 30px;">
              <button onclick="window.print()">Print</button>
              <button onclick="window.close()">Close</button>
            </div>
          </body>
        </html>
      `);
      printWindow.document.close();
      
      showNotification('Print window opened!', 'info');
    }

    // Show notification function
    function showNotification(message, type = 'info') {
      // Create notification element
      const notification = document.createElement('div');
      notification.className = `fixed top-20 right-4 z-50 px-6 py-3 rounded-lg text-white font-medium transition-all duration-300 transform translate-x-full`;
      
      // Set color based on type
      if (type === 'success') {
        notification.className += ' bg-green-600';
      } else if (type === 'error') {
        notification.className += ' bg-red-600';
      } else {
        notification.className += ' bg-blue-600';
      }
      
      notification.innerHTML = `
        <div class="flex items-center space-x-2">
          <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
          <span>${message}</span>
        </div>
      `;
      
      // Add to page
      document.body.appendChild(notification);
      
      // Animate in
      setTimeout(() => {
        notification.classList.remove('translate-x-full');
      }, 100);
      
      // Remove after 3 seconds
      setTimeout(() => {
        notification.classList.add('translate-x-full');
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 300);
      }, 3000);
    }

    // Logout function
    function logout() {
      localStorage.removeItem('userData');
      localStorage.removeItem('token');
      window.location.href = 'login.html';
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      loadUserData();
    });
  </script>
</body>
</html>
